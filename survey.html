<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Churanwalla — We’d Love Your Feedback</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex">
<style>
  :root{
    /* Colors tuned for dark-over-image */
    --bg:#000; 
    --card: rgba(17,24,39,0.65);           /* semi-transparent dark card */
    --text:#ffffff;                         /* main text */
    --muted: rgba(255,255,255,0.85);        /* secondary text */
    --border: rgba(255,255,255,0.22);
    --accent:#ffffff;
    --focus: rgba(255,255,255,0.25);
    --radius:14px; 
    --max:780px;
  }
  *{box-sizing:border-box}
  html, body{height:100%}
  body{
    margin:0; color:var(--text);
    font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
    padding:24px; display:flex; justify-content:center;
    /* Background image + 80% black tint */
    background:
      linear-gradient(rgba(0,0,0,0.80), rgba(0,0,0,0.80)),
      url("bg.jpg") center center / cover no-repeat fixed,
      var(--bg);
  }
  /* Improve perf on mobile */
  @media (max-width:820px){
    body{ background-attachment: scroll, scroll; }
  }

  .wrap{width:100%; max-width:var(--max)}
  header{ text-align:center; margin:8px 0 18px }
  header img{ width:150px; height:150px; object-fit:contain; display:block; margin:0 auto 10px }
  h1{ margin:0 0 6px; font-size:clamp(22px,4vw,30px); color:var(--text) }
  p.lead{ margin:0; color:var(--muted) }

  .card{
    background:rgba(0,0,0,.75); 
    border:1px solid var(--border); 
    border-radius:var(--radius); 
    padding:20px; 
    box-shadow:0 6px 24px rgba(0,0,0,.35);
    backdrop-filter: saturate(120%) blur(4px);
  }

  .grid{ display:grid; grid-template-columns:1fr; gap:14px }
  @media (min-width:760px){ .grid-2{ grid-template-columns:1fr 1fr } }

  label{ font-weight:600; display:block; margin-bottom:6px; color:var(--text) }
  .help{ color:var(--muted); font-size:13px; margin-top:4px }

  /* Inputs remain light for legibility; tweak if you want dark inputs */
  input[type="text"], input[type="email"], input[type="tel"], select, textarea{
    width:100%; padding:12px 12px; 
    border:1px solid var(--border); border-radius:10px; 
    background:#ffffff; color:#111827; outline:none;
  }
  textarea{ min-height:110px; resize:vertical }
  input:focus, select:focus, textarea:focus{ box-shadow:0 0 0 4px var(--focus); border-color:#cbd5e1 }

  fieldset{ border:1px solid var(--border); border-radius:12px; padding:14px; color:var(--text) }
  fieldset legend{ font-weight:700; padding:0 6px; color:var(--text) }
  .checks{ display:grid; gap:8px; grid-template-columns:1fr; }
  @media (min-width:760px){ .checks{ grid-template-columns:1fr 1fr } }

  .row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; color:var(--text) }
  .range{ display:grid; gap:8px; grid-template-columns: 1fr; }
  .scale{ display:flex; justify-content:space-between; font-size:12px; color:var(--muted) }

  .actions{ display:flex; gap:10px; justify-content:flex-start; margin-top:8px; flex-wrap:wrap }
  .btn{
    appearance:none; border:1px solid var(--border); background:transparent; color:#fff;
    font-weight:700; padding:12px 16px; border-radius:10px; cursor:pointer;
  }
  .btn.primary{ background:#ffffff; color:#111827; border-color:#ffffff }

  .note{ font-size:13px; color:var(--muted) }
  .status{ display:none; margin-top:10px; padding:10px 12px; border-radius:10px; font-weight:600 }
  .status.ok{ display:block; background:rgba(16,185,129,.15); color:#d1fae5; border:1px solid rgba(16,185,129,.35) }
  .status.err{ display:block; background:rgba(239,68,68,.15); color:#fee2e2; border:1px solid rgba(239,68,68,.35) }

  .hp{ position:absolute; left:-5000px; opacity:0; }
  footer{ text-align:center; margin:14px 0 0; color:var(--muted); font-size:13px }
.home-logo{ display:inline-block; text-decoration:none; }
.home-logo img{ display:block; }


</style>

</head>
<body>
<main class="wrap">
  <header>
    <a href="index.html" class="home-logo" aria-label="Churanwalla home">
      <img src="logo.png" alt="Churanwalla logo">
    </a>
    <h1>Help Bring Churanwalla Back</h1>
    <p class="lead">We’re an Indian candy store from New Zealand shipping nostalgic 90s treats worldwide. Tell us what to improve if we relaunch!</p>
  </header>


    <section class="card">
      <!-- Set action to your Google Apps Script Web App URL -->
      <form id="survey" method="POST" action="https://script.google.com/macros/s/AKfycbx1Gj90taFf5sqO90DNXC19vlJvh2XGCMjBiys_f4uACln4u6PWBsa3FXiEdo9NhLBn/exec">
        <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true">

        <div class="grid grid-2">
          <div>
            <label for="name">Full name *</label>
            <input id="name" name="name" type="text" placeholder="e.g., Priya Sharma" required>
          </div>
          <div>
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required>
          </div>
        </div>

        <div class="grid grid-2" style="margin-top:8px">
          <div>
            <label for="country">Country/Region</label>
            <input id="country" name="country" type="text" placeholder="e.g., New Zealand">
          </div>
          <div>
            <label for="city">City</label>
            <input id="city" name="city" type="text" placeholder="e.g., Auckland">
          </div>
        </div>

        <div class="grid" style="margin-top:8px">
          <div>
            <label for="heard">How did you first hear about us?</label>
            <select id="heard" name="heard">
              <option value="">Select one</option>
              <option>Instagram</option>
              <option>Facebook</option>
              <option>Google Search</option>
              <option>Friend/Family</option>
              <option>Influencer/Creator</option>
              <option>TradeMe/Marketplace</option>
              <option>Other</option>
            </select>
          </div>
        </div>

        <fieldset style="margin-top:8px">
          <legend>What should we improve if we return? (select all that apply)</legend>
          <div class="checks">
            <label><input type="checkbox" name="improve[]" value="Pricing"> Better pricing / deals</label>
            <label><input type="checkbox" name="improve[]" value="Faster delivery"> Faster delivery</label>
            <label><input type="checkbox" name="improve[]" value="More selection"> Wider selection (more 90s classics)</label>
            <label><input type="checkbox" name="improve[]" value="Freshness"> Freshness / expiry visibility</label>
            <label><input type="checkbox" name="improve[]" value="Bundle deals"> Bundle boxes / gift packs</label>
            <label><input type="checkbox" name="improve[]" value="Free shipping"> Free shipping threshold</label>
            <label><input type="checkbox" name="improve[]" value="Payment options"> More payment options (Afterpay/PayPal)</label>
            <label><input type="checkbox" name="improve[]" value="Packaging"> Better packaging</label>
            <label><input type="checkbox" name="improve[]" value="Local pickup"> Local pickup / retail partner</label>
            <label><input type="checkbox" name="improve[]" value="Subscription"> Monthly subscription box</label>
            <label><input type="checkbox" name="improve[]" value="Limited editions"> Seasonal / limited editions</label>
            <label><input type="checkbox" name="improve[]" value="Loyalty"> Loyalty points & rewards</label>
          </div>
        </fieldset>

        <fieldset style="margin-top:8px">
          <legend>Which candies did you love / want us to stock? (select all that apply)</legend>
          <div class="checks">
            <label><input type="checkbox" name="candies[]" value="Kaccha Mango Bite"> Kaccha Mango Bite</label>
            <label><input type="checkbox" name="candies[]" value="Pulse (Kachcha Aam / Others)"> Pulse (Kachcha Aam / others)</label>
            <label><input type="checkbox" name="candies[]" value="Hajmola / Imli"> Hajmola / Imli</label>
            <label><input type="checkbox" name="candies[]" value="Center Shock / Center Fresh"> Center Shock / Center Fresh</label>
            <label><input type="checkbox" name="candies[]" value="Eclairs / Melody"> Eclairs / Melody</label>
            <label><input type="checkbox" name="candies[]" value="Poppins / Rol-a-Cola"> Poppins / Rol-a-Cola</label>
            <label><input type="checkbox" name="candies[]" value="Paan & Saunf mixes"> Paan & Saunf mixes</label>
            <label><input type="checkbox" name="candies[]" value="Other 90s classics"> Other 90s classics</label>
          </div>
        </fieldset>

        <div class="grid grid-2" style="margin-top:8px">
          <div>
            <label for="satisfaction">Overall satisfaction with Churanwalla</label>
            <div class="range">
              <input id="satisfaction" name="satisfaction" type="range" min="1" max="5" value="4">
              <div class="scale"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span></div>
              <div class="help">1 = Poor, 5 = Excellent</div>
            </div>
          </div>
          <div>
            <label for="return">How likely are you to buy again if we return?</label>
            <div class="range">
              <input id="return" name="return_likelihood" type="range" min="0" max="10" value="8">
              <div class="scale"><span>0</span><span>2</span><span>4</span><span>6</span><span>8</span><span>10</span></div>
              <div class="help">0 = Not at all, 10 = Definitely</div>
            </div>
          </div>
        </div>

        <div class="grid" style="margin-top:8px">
          <div>
            <label for="comments">Comments or suggestions</label>
            <textarea id="comments" name="comments" placeholder="Tell us what to keep, fix, or add..."></textarea>
          </div>
        </div>

        <div class="grid grid-2" style="margin-top:8px">
          <div class="row">
            <input id="optin" name="optin" type="checkbox" value="Yes">
            <label for="optin" style="font-weight:600">Email me if Churanwalla returns</label>
          </div>
          <div>
            <label for="phone">Phone (optional)</label>
            <input id="phone" name="phone" type="tel" placeholder="+64 ...">
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" type="submit">Send feedback</button>
          <button class="btn" type="reset">Clear</button>
        </div>

        <p class="note">By submitting, you agree we may store your responses to improve future offerings. We’ll never sell your data.</p>

        <div id="formStatus" role="status" aria-live="polite" class="status"></div>
      </form>
    </section>

    <footer>© <span id="y"></span> Churanwalla</footer>
  </main>

<script>
  // Footer year
  document.getElementById('y').textContent = new Date().getFullYear();

  const form = document.getElementById('survey');
  const statusEl = document.getElementById('formStatus');
  const submitBtn = form.querySelector('button[type="submit"]');

  const uniq = (arr) => [...new Set(arr.map(v => (v ?? '').toString().trim()))];

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    if (form.company && form.company.value) return; // honeypot

    // Build FormData from form (already includes improve[] & candies[] from HTML)
    const data = new FormData(form);

    // Also send duplicate keys WITHOUT brackets so Apps Script can read arrays via e.parameters
    const improves = uniq(Array.from(form.querySelectorAll('input[name="improve[]"]:checked')).map(el => el.value));
    const candies  = uniq(Array.from(form.querySelectorAll('input[name="candies[]"]:checked')).map(el => el.value));
    improves.forEach(v => data.append('improve', v));
    candies.forEach(v  => data.append('candies', v));

    // Extra info
    data.append('userAgent', navigator.userAgent);

    // UI: prevent double submit
    statusEl.className = 'status';
    submitBtn.disabled = true;
    const oldText = submitBtn.textContent;
    submitBtn.textContent = 'Sending…';

    try {
      await fetch(form.action, {
        method: 'POST',
        mode: 'no-cors',   // avoid CORS preflight; response is opaque
        body: data
      });

      statusEl.className = 'status ok';
      statusEl.textContent = 'Thank you! Your feedback has been recorded.';
      form.reset();
    } catch (err) {
      statusEl.className = 'status err';
      statusEl.textContent = 'Network error. Please try again or email hi@churanwalla.com.';
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = oldText;
    }
  });
</script>
</body>
</html>
